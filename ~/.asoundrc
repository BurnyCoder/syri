pcm.!default {
    type plug
    slave.pcm "hw:1,0"
}

ctl.!default {
    type hw
    card 1
}

# Define missing PCM devices to prevent errors
pcm.rear {
    type plug
    slave.pcm "hw:1,0"
}

pcm.center_lfe {
    type plug
    slave.pcm "hw:1,0"
}

pcm.side {
    type plug
    slave.pcm "hw:1,0"
}

pcm.hdmi {
    type plug
    slave.pcm "hw:1,0"
}

# Better configured software mixing with standard rates
pcm.dmix {
    type dmix
    ipc_key 1024
    slave {
        pcm "hw:1,0"
        period_time 0
        period_size 2048
        buffer_size 16384
        rate 44100
    }
    bindings {
        0 0
        1 1
    }
}

# Better configured dsnoop with standard rates
pcm.dsnoop {
    type dsnoop
    ipc_key 1025
    slave {
        pcm "hw:1,0"
        period_time 0
        period_size 2048
        buffer_size 16384
        rate 44100
    }
    bindings {
        0 0
        1 1
    }
}

# Define a microphone device with plug to handle rate conversion
pcm.mic {
    type plug
    slave {
        pcm "dsnoop"
        rate 44100
    }
}

# Define usable standard rates for devices
pcm.rate44100Hz {
    type rate
    slave {
        pcm "dmix"
        rate 44100
    }
}

pcm.rate48000Hz {
    type rate
    slave {
        pcm "dmix"
        rate 48000
    }
}

# Define a pulse device for compatibility
pcm.pulse {
    type pulse
}

ctl.pulse {
    type pulse
} 